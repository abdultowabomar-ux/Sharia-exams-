<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø¹Ù…Ø± Ø¹Ø¨Ø¯ Ø§Ù„ØªÙˆØ§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e3a8a; 
            --accent: #f97316;  
            --whatsapp: #25d366; 
            --bg: #f0f4f8;
            --white: #ffffff;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .auth-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #3b82f6, #1e3a8a);
            display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .auth-card {
            background: var(--white); padding: 45px; border-radius: 30px;
            width: 90%; max-width: 440px; text-align: center; 
            box-shadow: 0 30px 60px rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.3);
            position: relative; overflow: hidden;
        }
        
        /* ØªØ²ÙŠÙŠÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
        .auth-card::before {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 8px;
            background: linear-gradient(to right, var(--primary), var(--accent));
        }

        .dev-name-gradient {
            font-size: 20px; font-weight: 800; margin-bottom: 25px; display: block;
            background: linear-gradient(45deg, #1e3a8a, #f97316);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.1));
        }

        .dev-credit { font-size: 14px; color: #64748b; margin-bottom: 5px; font-weight: bold; }

        input {
            width: 100%; padding: 16px; margin: 12px 0; border: 2px solid #e2e8f0;
            border-radius: 15px; outline: none; transition: 0.3s; box-sizing: border-box; 
            font-family: 'Tajawal'; font-size: 16px; background: #fdfdfd;
        }
        input:focus { border-color: var(--accent); background: #fff; box-shadow: 0 0 15px rgba(249, 115, 22, 0.1); }

        .btn-action {
            background: linear-gradient(to right, var(--accent), #ea580c);
            color: white; border: none; padding: 18px; width: 100%; border-radius: 15px;
            font-weight: 800; cursor: pointer; transition: 0.4s; font-size: 18px; margin-top: 15px;
        }
        .btn-action:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(249, 115, 22, 0.4); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± */
        .container { flex: 1; max-width: 800px; margin: 40px auto; padding: 20px; width: 100%; box-sizing: border-box; }
        .quiz-card { background: var(--white); padding: 40px; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.07); }
        .progress-bar { height: 12px; background: #e2e8f0; border-radius: 20px; margin-bottom: 35px; overflow: hidden; }
        #progress-fill { height: 100%; background: linear-gradient(to right, var(--primary), var(--accent)); width: 0%; transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
        
        .q-text { font-size: 24px; font-weight: 800; color: var(--primary); margin-bottom: 30px; line-height: 1.6; }
        .option-btn {
            display: block; padding: 18px 25px; margin: 15px 0; border: 2px solid #f1f5f9;
            border-radius: 18px; cursor: pointer; transition: 0.3s; background: #fcfcfc; font-size: 18px; font-weight: 500;
        }
        .option-btn:hover { border-color: var(--accent); background: #fffaf5; transform: translateX(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.05); }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        #score-display { font-size: 65px; font-weight: 900; background: linear-gradient(to bottom, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 20px 0; }
        
        footer { background: var(--white); padding: 35px; text-align: center; border-top: 1px solid #e2e8f0; }
        .btn-whatsapp {
            background-color: var(--whatsapp); color: white; text-decoration: none;
            padding: 15px 35px; border-radius: 50px; font-weight: 800; display: inline-flex;
            align-items: center; gap: 12px; transition: 0.3s; box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3);
        }
        .btn-whatsapp:hover { background-color: #1ebe57; transform: scale(1.08); }

        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .question-box.active { display: block; animation: slideUp 0.5s ease; }
        .question-box { display: none; }
    </style>
</head>
<body>

<div id="auth-screen" class="auth-overlay">
    <div class="auth-card">
        <div class="dev-credit">ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†ØµØ© Ø¨ÙˆØ§Ø³Ø·Ø©:</div>
        <div class="dev-name-gradient">Omar Abdel-Tawab Saleh</div>
        
        <h1 style="color: var(--primary); margin: 0 0 15px 0; font-size: 28px;">ğŸ“ Ø¥Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø±ÙŠØ¹Ø© Ø§Ù„Ø°ÙƒÙŠ</h1>
        <p style="color: #64748b; font-size: 15px; margin-bottom: 25px;">Ù…Ù†ØµØ© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© - Ø­Ù‚ÙˆÙ‚ Ø­Ù„ÙˆØ§Ù†</p>
        
        <input type="text" id="name-input" placeholder="ğŸ“ Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ">
        <input type="text" id="grade-input" placeholder="ğŸ›ï¸ Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©">
        <button class="btn-action" onclick="startQuiz()">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø¢Ù†</button>
        <p id="auth-err" style="color: #e11d48; display: none; margin-top: 15px; font-size: 14px; font-weight: bold;">âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„</p>
    </div>
</div>

<div class="container">
    <div id="quiz-ui" style="display: none;">
        <div class="quiz-card">
            <div class="progress-bar"><div id="progress-fill"></div></div>
            <div id="questions-container"></div>
            
            <div id="result-screen" style="display: none; text-align: center;">
                <h2 style="color: var(--primary)">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h2>
                <div id="score-display"></div>
                <div id="review-area" style="display: none; text-align: right;">
                    <h3 style="color: #e11d48; border-bottom: 3px solid #f1f5f9; padding-bottom: 15px;">ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© âŒ</h3>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px;" id="review-table">
                        <thead style="background: var(--primary); color: white;">
                            <tr><th style="padding: 12px;">Ø§Ù„Ø³Ø¤Ø§Ù„</th><th style="padding: 12px;">Ø¥Ø¬Ø§Ø¨ØªÙƒ</th><th style="padding: 12px;">Ø§Ù„ØµØ­ÙŠØ­Ø©</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <button class="btn-action" style="max-width: 280px; margin-top: 40px;" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
            </div>
        </div>
    </div>
</div>

<footer>
    <div style="font-weight: 800; color: #1e3a8a; margin-bottom: 20px; font-size: 16px;">OMAR ABDELTAWAB SALEH Â© 2025</div>
    <a href="https://wa.me/201202763155" target="_blank" class="btn-whatsapp">
        <i class="fab fa-whatsapp" style="font-size: 24px;"></i> ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø·ÙˆØ±
    </a>
</footer>

<script>
    // --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… ---
    const BOT_TOKEN = '8237095382:AAEwtkETTGq3VEp1flZrIKVXQTWF5KGkCiM'; 
    const CHAT_ID = '6068331455';     

    const questions = [
        { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±ÙƒÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø²ÙˆØ§Ø¬ Ø¹Ù†Ø¯ Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„ÙÙ‚Ù‡Ø§Ø¡ØŸ", a: "Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ ÙˆØ§Ù„Ù‚Ø¨ÙˆÙ„", o: ["Ø§Ù„Ù…Ù‡Ø±", "Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ ÙˆØ§Ù„Ù‚Ø¨ÙˆÙ„", "Ø§Ù„Ø¥Ø´Ù‡Ø§Ø¯", "Ø§Ù„ÙˆÙ„ÙŠ"] },
        { q: "Ø­ÙƒÙ… Ø§Ù„Ø®Ø·Ø¨Ø© ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ù‡Ùˆ:", a: "Ø³Ù†Ø© ÙˆÙ…Ø±Ø­Ù„Ø© ØªÙ…Ù‡ÙŠØ¯ÙŠØ©", o: ["ÙˆØ§Ø¬Ø¨Ø©", "Ø³Ù†Ø© ÙˆÙ…Ø±Ø­Ù„Ø© ØªÙ…Ù‡ÙŠØ¯ÙŠØ©", "ÙØ±Ø¶ Ø¹ÙŠÙ†", "Ù…Ø­Ø±Ù…Ø©"] },
        { q: "Ø§Ù„Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø±Ø£Ø© ÙˆØ¹Ù…ØªÙ‡Ø§ ÙÙŠ ÙˆÙ‚Øª ÙˆØ§Ø­Ø¯ ÙŠØ¹ØªØ¨Ø± ØªØ­Ø±ÙŠÙ…Ø§Ù‹:", a: "Ù…Ø¤Ù‚ØªØ§Ù‹", o: ["Ù…Ø¤Ø¨Ø¯Ø§Ù‹", "Ù…Ø¤Ù‚ØªØ§Ù‹", "Ù…Ø¨Ø§Ø­Ø§Ù‹", "Ù…ÙƒØ±ÙˆÙ‡Ø§Ù‹"] },
        { q: "Ø¹Ø¯Ø© Ø§Ù„Ù…ØªÙˆÙÙ‰ Ø¹Ù†Ù‡Ø§ Ø²ÙˆØ¬Ù‡Ø§ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø­Ø§Ù…Ù„Ø§Ù‹ Ù‡ÙŠ:", a: "Ø£Ø±Ø¨Ø¹Ø© Ø£Ø´Ù‡Ø± ÙˆØ¹Ø´Ø±Ø© Ø£ÙŠØ§Ù…", o: ["Ø«Ù„Ø§Ø«Ø© Ù‚Ø±ÙˆØ¡", "Ø£Ø±Ø¨Ø¹Ø© Ø£Ø´Ù‡Ø± ÙˆØ¹Ø´Ø±Ø© Ø£ÙŠØ§Ù…", "Ø«Ù„Ø§Ø«Ø© Ø£Ø´Ù‡Ø±", "Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø©"] },
        { q: "Ø§Ù„Ù…Ù‡Ø± Ø§Ù„Ø°ÙŠ Ù„Ù… ÙŠÙØ³Ù…Ù‘ ÙÙŠ Ø§Ù„Ø¹Ù‚Ø¯ ÙŠØ³Ù…Ù‰ Ù…Ù‡Ø±:", a: "Ø§Ù„Ù…Ø«Ù„", o: ["Ø§Ù„Ù…Ø³Ù…Ù‰", "Ø§Ù„Ù…Ø«Ù„", "Ø§Ù„Ù…Ø¹Ø¬Ù„", "Ø§Ù„Ù…Ø¤Ø¬Ù„"] },
        { q: "Ù…Ù† Ø§Ù„Ù…Ø­Ø±Ù…Ø§Øª Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ù…ØµØ§Ù‡Ø±Ø©:", a: "Ø£Ù… Ø§Ù„Ø²ÙˆØ¬Ø©", o: ["Ø§Ù„Ø£Ø®Øª Ù…Ù† Ø§Ù„Ø±Ø¶Ø§Ø¹", "Ø£Ù… Ø§Ù„Ø²ÙˆØ¬Ø©", "Ø¨Ù†Øª Ø§Ù„Ø£Ø®", "Ø§Ù„Ø¹Ù…Ø©"] },
        { q: "Ø§Ù„ÙˆÙ„Ø§ÙŠØ© ÙÙŠ Ø²ÙˆØ§Ø¬ Ø§Ù„Ø«ÙŠØ¨ Ø§Ù„Ø¨Ø§Ù„ØºØ© Ø¹Ù†Ø¯ Ø§Ù„Ø­Ù†ÙÙŠØ©:", a: "Ù„Ù‡Ø§ ØªØ²ÙˆÙŠØ¬ Ù†ÙØ³Ù‡Ø§", o: ["Ù„ÙˆÙ„ÙŠÙ‡Ø§ ÙÙ‚Ø·", "Ù„Ù‡Ø§ ØªØ²ÙˆÙŠØ¬ Ù†ÙØ³Ù‡Ø§", "Ù„Ù„Ù‚Ø§Ø¶ÙŠ ÙÙ‚Ø·", "Ø¨Ø§Ø·Ù„Ø©"] },
        { q: "Ø£Ù‚Ù„ Ù…Ù‚Ø¯Ø§Ø± Ù„Ù„Ù…Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø°Ù‡Ø¨ Ø§Ù„Ø­Ù†ÙÙŠ Ù‡Ùˆ:", a: "Ø¹Ø´Ø±Ø© Ø¯Ø±Ø§Ù‡Ù…", o: ["Ø®Ù…Ø³Ø© Ø¯Ø±Ø§Ù‡Ù…", "Ø¹Ø´Ø±Ø© Ø¯Ø±Ø§Ù‡Ù…", "Ù„Ø§ Ø­Ø¯ Ù„Ù‡", "Ù…Ø§Ø¦Ø© Ø¯Ø±Ù‡Ù…"] },
        { q: "Ø§Ù„Ø·Ù„Ø§Ù‚ Ø§Ù„Ø±Ø¬Ø¹ÙŠ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ù„Ùƒ ÙÙŠÙ‡ Ø§Ù„Ø²ÙˆØ¬ Ø¥Ø¹Ø§Ø¯Ø© Ø²ÙˆØ¬ØªÙ‡:", a: "Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¹Ø¯Ø© Ø¯ÙˆÙ† Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯", o: ["Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ø¯Ø© Ø¨Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯", "Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¹Ø¯Ø© Ø¯ÙˆÙ† Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯", "Ø¨Ø´Ø±Ø· Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„ÙˆÙ„ÙŠ", "Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¥Ø¹Ø§Ø¯Ø©"] },
        { q: "ÙŠØ´ØªØ±Ø· ÙÙŠ ØµÙŠØºØ© Ø¹Ù‚Ø¯ Ø§Ù„Ø²ÙˆØ§Ø¬ Ø£Ù† ØªÙƒÙˆÙ†:", a: "Ù…Ù†Ø¬Ø²Ø©", o: ["Ù…Ø¹Ù„Ù‚Ø©", "Ù…Ù†Ø¬Ø²Ø©", "Ù…Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø³ØªÙ‚Ø¨Ù„", "Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ©"] },
        { q: "Ø§Ù„Ø®Ù„Ø¹ ÙŠÙ‚Ø¹ ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© ÙˆØ§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ù…ØµØ±ÙŠ Ø¨Ø·Ù„Ø§Ù‚:", a: "Ø¨Ø§Ø¦Ù†", o: ["Ø±Ø¬Ø¹ÙŠ", "Ø¨Ø§Ø¦Ù†", "ÙØ³Ø® ÙÙ‚Ø·", "ÙˆØ¹Ø¯ Ø¨Ø§Ù„Ø·Ù„Ø§Ù‚"] },
        { q: "ØªØ³ØªØ­Ù‚ Ø§Ù„Ù…Ø·Ù„Ù‚Ø© Ø§Ù„Ù…ØªØ¹Ø© Ø¥Ø°Ø§ ÙˆÙ‚Ø¹ Ø§Ù„Ø·Ù„Ø§Ù‚:", a: "Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆÙ„Ù… ÙŠØ³Ù…Ù‰ Ù…Ù‡Ø±", o: ["Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„", "Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆÙ„Ù… ÙŠØ³Ù…Ù‰ Ù…Ù‡Ø±", "Ø¨Ø¹Ø¯ Ø§Ù„ÙˆÙØ§Ø©", "ÙÙŠ Ø§Ù„Ø®Ù„Ø¹"] },
        { q: "Ø­ÙƒÙ… Ù†ÙƒØ§Ø­ Ø§Ù„Ù…ØªØ¹Ø© ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…:", a: "Ø¨Ø§Ø·Ù„ Ø¨Ø§ØªÙØ§Ù‚ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±", o: ["ØµØ­ÙŠØ­", "Ù…ÙƒØ±ÙˆÙ‡", "Ø¨Ø§Ø·Ù„ Ø¨Ø§ØªÙØ§Ù‚ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±", "Ù…Ø¨Ø§Ø­ Ù„Ù„Ø¶Ø±ÙˆØ±Ø©"] },
        { q: "Ø§Ù„Ù†ÙÙ‚Ø© Ø§Ù„Ø²ÙˆØ¬ÙŠØ© ØªØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø²ÙˆØ¬ Ø¨Ù…ÙˆØ¬Ø¨:", a: "Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„ØµØ­ÙŠØ­ ÙˆØ§Ù„ØªÙ…ÙƒÙŠÙ†", o: ["Ø§Ù„Ø®Ø·Ø¨Ø©", "Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„ØµØ­ÙŠØ­ ÙˆØ§Ù„ØªÙ…ÙƒÙŠÙ†", "ÙˆÙ„Ø§Ø¯Ø© Ø·ÙÙ„", "ÙŠØ³Ø§Ø± Ø§Ù„Ø²ÙˆØ¬"] },
        { q: "ÙŠØ´ØªØ±Ø· ÙÙŠ Ø§Ù„Ø´Ù‡ÙˆØ¯ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ù†ÙÙŠØ© Ù„ØµØ­Ø© Ø§Ù„Ø²ÙˆØ§Ø¬:", a: "Ø±Ø¬Ù„Ø§Ù† Ø£Ùˆ Ø±Ø¬Ù„ ÙˆØ§Ù…Ø±Ø£ØªØ§Ù†", o: ["Ø±Ø¬Ù„Ø§Ù† ÙÙ‚Ø·", "Ø£Ø±Ø¨Ø¹ Ù†Ø³Ø§Ø¡", "Ø±Ø¬Ù„Ø§Ù† Ø£Ùˆ Ø±Ø¬Ù„ ÙˆØ§Ù…Ø±Ø£ØªØ§Ù†", "Ø±Ø¬Ù„ ÙˆØ§Ø­Ø¯"] },
        { q: "ØªØ­Ø±Ù… Ø§Ù„Ø£Ø®Øª Ù…Ù† Ø§Ù„Ø±Ø¶Ø§Ø¹ ØªØ­Ø±ÙŠÙ…Ø§Ù‹:", a: "Ù…Ø¤Ø¨Ø¯Ø§Ù‹", o: ["Ù…Ø¤Ù‚ØªØ§Ù‹", "Ù…Ø¤Ø¨Ø¯Ø§Ù‹", "Ù…Ø¨Ø§Ø­Ø§Ù‹", "Ø¨Ø¥Ø°Ù† Ø§Ù„Ø²ÙˆØ¬Ø©"] },
        { q: "Ø¥Ø°Ø§ Ø·Ù„Ù‚ Ø§Ù„Ø²ÙˆØ¬ Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆÙ‚Ø¯ Ø³Ù…Ù‰ Ù…Ù‡Ø±Ø§Ù‹ØŒ ÙÙ„Ù„Ù…Ø±Ø£Ø©:", a: "Ù†ØµÙ Ø§Ù„Ù…Ù‡Ø± Ø§Ù„Ù…Ø³Ù…Ù‰", o: ["Ø§Ù„Ù…Ù‡Ø± ÙƒØ§Ù…Ù„", "Ù†ØµÙ Ø§Ù„Ù…Ù‡Ø± Ø§Ù„Ù…Ø³Ù…Ù‰", "Ù…Ù‡Ø± Ø§Ù„Ù…Ø«Ù„", "Ù„Ø§ Ø´ÙŠØ¡"] },
        { q: "Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ø¨ÙŠÙ† Ø§Ù„Ø²ÙˆØ¬ÙŠÙ†:", a: "Ø­Ø±Ù…Ø© Ø§Ù„Ù…ØµØ§Ù‡Ø±Ø© ÙˆÙ†Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯", o: ["Ø­Ù‚ Ø§Ù„Ø·Ø§Ø¹Ø©", "Ø­Ù‚ Ø§Ù„Ù…Ù‡Ø±", "Ø­Ø±Ù…Ø© Ø§Ù„Ù…ØµØ§Ù‡Ø±Ø© ÙˆÙ†Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯", "Ø­Ù‚ Ø§Ù„Ù‚ÙˆØ§Ù…Ø©"] },
        { q: "Ø§Ù„Ø²ÙˆØ§Ø¬ Ø§Ù„ÙØ§Ø³Ø¯ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ:", a: "Ø§Ø®ØªÙ„ ÙÙŠÙ‡ Ø´Ø±Ø· Ù…Ù† Ø´Ø±ÙˆØ· Ø§Ù„ØµØ­Ø©", o: ["Ø§Ø®ØªÙ„ ÙÙŠÙ‡ Ø±ÙƒÙ† Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨", "Ø§Ø®ØªÙ„ ÙÙŠÙ‡ Ø´Ø±Ø· Ù…Ù† Ø´Ø±ÙˆØ· Ø§Ù„ØµØ­Ø©", "ØªÙ… Ø¨Ø¯ÙˆÙ† Ù…Ù‡Ø±", "ØªÙ… ÙˆÙ‚Øª Ø§Ù„ØºØ¶Ø¨"] },
        { q: "Ø§Ù„ÙƒÙØ§Ø¡Ø© ÙÙŠ Ø§Ù„Ø²ÙˆØ§Ø¬ Ø­Ù‚ Ù„Ù€:", a: "Ø§Ù„Ù…Ø±Ø£Ø© ÙˆØ£ÙˆÙ„ÙŠØ§Ø¦Ù‡Ø§", o: ["Ù„Ù„Ø²ÙˆØ¬ ÙÙ‚Ø·", "Ø§Ù„Ù…Ø±Ø£Ø© ÙˆØ£ÙˆÙ„ÙŠØ§Ø¦Ù‡Ø§", "Ù„Ù„Ù‚Ø§Ø¶ÙŠ", "Ù„Ù„Ù…Ø¬ØªÙ…Ø¹"] }
    ];

    let currentIdx = 0;
    let score = 0;
    let userAnswers = [];

    function startQuiz() {
        const name = document.getElementById('name-input').value;
        const grade = document.getElementById('grade-input').value;
        if(!name || !grade) { document.getElementById('auth-err').style.display='block'; return; }

        // Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø°ÙƒÙŠ
        let visitCount = localStorage.getItem('visit_count') || 0;
        visitCount = parseInt(visitCount) + 1;
        localStorage.setItem('visit_count', visitCount);

        // ØªÙ†Ø³ÙŠÙ‚ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©
        const telegramMsg = `
âœ¨ *Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ø¯Ø®Ù„ Ø§Ù„Ù…Ù†ØµØ©* âœ¨
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‘¤ *Ø§Ù„Ø§Ø³Ù…:* ${name}
ğŸ›ï¸ *Ø§Ù„ÙØ±Ù‚Ø©:* ${grade}
ğŸ“Š *Ø±Ù‚Ù… Ø§Ù„Ø²ÙŠØ§Ø±Ø©:* ${visitCount}
ğŸ•’ *Ø§Ù„ØªÙˆÙ‚ÙŠØª:* ${new Date().toLocaleString('ar-EG')}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš€ _ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø¹Ù…Ø± Ø¹Ø¨Ø¯ Ø§Ù„ØªÙˆØ§Ø¨_`;

        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(telegramMsg)}&parse_mode=Markdown`);
        
        document.getElementById('auth-screen').style.display = 'none';
        document.getElementById('quiz-ui').style.display = 'block';
        renderQuestions();
        showQuestion(0);
    }

    function renderQuestions() {
        const container = document.getElementById('questions-container');
        questions.forEach((item, i) => {
            const div = document.createElement('div');
            div.className = `question-box qb-${i}`;
            div.innerHTML = `<div class="q-text">${i+1}. ${item.q}</div>
                ${item.o.map(opt => `<div class="option-btn" onclick="handleSelect(${i}, '${opt}')">${opt}</div>`).join('')}`;
            container.appendChild(div);
        });
    }

    function showQuestion(i) {
        document.querySelectorAll('.question-box').forEach(b => b.classList.remove('active'));
        if(i < questions.length) {
            document.querySelector(`.qb-${i}`).classList.add('active');
            document.getElementById('progress-fill').style.width = `${(i / questions.length) * 100}%`;
        } else {
            finishQuiz();
        }
    }

    function handleSelect(idx, val) {
        userAnswers.push({q: questions[idx].q, selected: val, correct: questions[idx].a});
        if(val === questions[idx].a) score++;
        currentIdx++;
        setTimeout(() => showQuestion(currentIdx), 300);
    }

    function finishQuiz() {
        document.getElementById('progress-fill').style.width = '100%';
        document.getElementById('questions-container').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('score-display').innerText = `${score} / ${questions.length}`;

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        const resultMsg = `ğŸ *Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!*\nğŸ‘¤ Ø§Ù„Ø·Ø§Ù„Ø¨: ${document.getElementById('name-input').value}\nğŸ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score} Ù…Ù† ${questions.length}`;
        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(resultMsg)}&parse_mode=Markdown`);

        const mistakes = userAnswers.filter(a => a.selected !== a.correct);
        if(mistakes.length > 0) {
            document.getElementById('review-area').style.display = 'block';
            const tbody = document.querySelector('#review-table tbody');
            mistakes.forEach(m => {
                const tr = document.createElement('tr');
                tr.innerHTML = `<td style="padding:10px; border:1px solid #eee">${m.q}</td>
                               <td style="padding:10px; border:1px solid #eee; color:#e11d48; font-weight:bold">${m.selected}</td>
                               <td style="padding:10px; border:1px solid #eee; color:#10b981; font-weight:bold">${m.correct}</td>`;
                tbody.appendChild(tr);
            });
        }
    }
</script>
</body>
</html>
