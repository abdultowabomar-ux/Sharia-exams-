<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omar Abdel Tawab Saleh</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <title>Ù…Ù†ØµØ© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø±ÙŠØ¹Ø© | Omar Abdel Tawab</title>
<meta name="description" content="Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø§Ø¯Ø© Ø§Ù„Ø´Ø±ÙŠØ¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©ØŒ ØªØªÙŠØ­ Ù„Ù„Ø·Ù„Ø§Ø¨ ØªÙ‚ÙŠÙŠÙ… Ù…Ø³ØªÙˆØ§Ù‡Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬ ÙÙˆØ±ÙŠØ© ØªØ­Øª Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ù…Ø·ÙˆØ± Ø¹Ù…Ø± Ø¹Ø¨Ø¯ Ø§Ù„ØªÙˆØ§Ø¨.">
<meta name="keywords" content="Ø´Ø±ÙŠØ¹Ø©ØŒ Ø§Ø®ØªØ¨Ø§Ø±Ø§ØªØŒ Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ©ØŒ Ø¹Ù…Ø± Ø¹Ø¨Ø¯ Ø§Ù„ØªÙˆØ§Ø¨ØŒ Ø¬Ø§Ù…Ø¹Ø©ØŒ Ø£Ø³Ø¦Ù„Ø© ÙˆØ¥Ø¬Ø§Ø¨Ø§Øª">

    <style>
        :root {
            --primary: #1e3a8a; 
            --accent: #f97316;  
            --whatsapp: #25d366; 
            --facebook: #1877f2;
            --bg: #f0f4f8;
            --white: #ffffff;
            --grad: linear-gradient(45deg, #1e3a8a, #f97316);
        }

        body { font-family: 'Tajawal', sans-serif; background-color: var(--bg); margin: 0; display: flex; flex-direction: column; min-height: 100vh; }

        .auth-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at center, #3b82f6, #1e3a8a); display: flex; justify-content: center; align-items: center; z-index: 1000; }
        .auth-card { background: var(--white); padding: 40px; border-radius: 30px; width: 90%; max-width: 440px; text-align: center; box-shadow: 0 30px 60px rgba(0,0,0,0.4); position: relative; overflow: hidden; }
        .auth-card::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 8px; background: var(--grad); }

        .dev-credit-ar { font-size: 14px; color: #64748b; font-weight: bold; margin-bottom: 5px; display: block; }
        .dev-name-en { font-size: 22px; font-weight: 800; margin-bottom: 25px; display: block; background: var(--grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        input, textarea { width: 100%; padding: 16px; margin: 12px 0; border: 2px solid #e2e8f0; border-radius: 15px; outline: none; box-sizing: border-box; font-family: 'Tajawal'; font-size: 15px; }

        .container { flex: 1; max-width: 800px; margin: 20px auto; padding: 20px; width: 100%; box-sizing: border-box; }
        
        .quiz-card, .dev-card { 
            background: var(--white); 
            padding: 30px; border-radius: 25px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); margin-bottom: 20px;
            position: relative; overflow: hidden;
        }

        .quiz-card::before, .dev-card::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 6px; background: var(--grad); }

        .quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
        .timer-box { background: #fef2f2; color: #e11d48; padding: 8px 15px; border-radius: 12px; font-weight: 800; border: 1px solid #fecaca; }
        
        .progress-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .q-counter { font-weight: bold; color: var(--primary); font-size: 14px; }
        .progress-bar { height: 10px; background: #e2e8f0; border-radius: 20px; flex: 1; margin-right: 15px; overflow: hidden; }
        #progress-fill { height: 100%; background: var(--grad); width: 0%; transition: 0.4s; }
        
        .q-text { font-size: 20px; font-weight: 800; color: var(--primary); margin-bottom: 25px; }
        .option-btn { display: block; padding: 15px 20px; margin: 10px 0; border: 2px solid #f1f5f9; border-radius: 15px; cursor: pointer; transition: 0.2s; background: #fcfcfc; font-size: 17px; }
        .option-btn.selected { border-color: var(--accent); background: #fff7ed; font-weight: bold; }

        .btn-nav { flex: 1; padding: 15px; border-radius: 12px; border: none; background: var(--grad); color: white; font-weight: bold; cursor: pointer; transition: 0.3s; font-family: 'Tajawal'; }
        .nav-buttons { display: flex; gap: 15px; margin-top: 25px; }

        /* ØªØ¹Ø¯ÙŠÙ„ Ø²Ø± Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù…Ø¹ Ø§Ù„Ù†Øµ */
        .feedback-container { position: fixed; top: 20px; left: 20px; z-index: 2000; display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .feedback-trigger { width: 45px; height: 45px; background: var(--grad); color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: 0.3s; }
        .feedback-trigger:hover { transform: scale(1.1); }
        .feedback-label { font-size: 11px; font-weight: bold; color: var(--primary); background: rgba(255,255,255,0.8); padding: 2px 6px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

        .feedback-panel { position: fixed; top: 95px; left: 20px; width: 280px; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); padding: 20px; display: none; z-index: 2000; border: 2px solid #e2e8f0; }
        .stars { display: flex; gap: 5px; justify-content: center; margin: 10px 0; direction: ltr; }
        .stars i { color: #cbd5e1; cursor: pointer; font-size: 22px; transition: 0.2s; }
        .stars i.active { color: #fbbf24; }

        .dev-brand-footer { font-weight: 800; color: var(--primary); margin-bottom: 10px; font-size: 19px; text-align: center; }
        .social-row { display: flex; justify-content: center; gap: 30px; }
        .circle-link { width: 55px; height: 55px; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-size: 26px; text-decoration: none; transition: 0.3s; }
        .wa-bg { background-color: var(--whatsapp); }
        .fb-bg { background-color: var(--facebook); }

        footer { padding: 20px; text-align: center; font-size: 11px; color: #94a3b8; }
    </style>
</head>
<body>

<div class="feedback-container">
    <div class="feedback-trigger" onclick="toggleFeedback()"><i class="fas fa-comment-dots"></i></div>
    <span class="feedback-label">Ø±Ø£ÙŠÙƒ ÙŠÙ‡Ù…Ù†Ø§</span>
</div>

<div class="feedback-panel" id="feedback-panel">
    <h4 style="margin: 0 0 10px 0; color: var(--primary); text-align: center;">Ø±Ø£ÙŠÙƒ ÙŠÙ‡Ù…Ù†Ø§ ğŸŒŸ</h4>
    <textarea id="feedback-text" rows="3" placeholder="Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ Ø§Ù‚ØªØ±Ø§Ø­ Ø£Ùˆ Ù…Ø´ÙƒÙ„Ø©..."></textarea>
    <div class="stars" id="star-rating">
        <i class="fas fa-star" data-v="5"></i><i class="fas fa-star" data-v="4"></i><i class="fas fa-star" data-v="3"></i><i class="fas fa-star" data-v="2"></i><i class="fas fa-star" data-v="1"></i>
    </div>
    <button class="btn-nav" style="width: 100%;" onclick="sendFeedback()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
</div>

<div id="auth-screen" class="auth-overlay">
    <div class="auth-card">
        <span class="dev-credit-ar">ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†ØµØ© Ø¨ÙˆØ§Ø³Ø·Ø©:</span>
        <span class="dev-name-en">Omar Abdel Tawab Saleh</span>
        <h2 style="color: var(--primary); margin-bottom: 20px;">ğŸ“ Ù…Ù†ØµØ© Ø¥Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø±ÙŠØ¹Ø©</h2>
        <input type="text" id="name-input" placeholder="ğŸ“ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ">
        <input type="text" id="grade-input" placeholder="ğŸ›ï¸ Ø§Ù„ÙØ±Ù‚Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©">
        <button class="btn-nav" style="width:100%; font-size:18px;" onclick="startQuiz()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
        <p id="auth-err" style="color: #e11d48; display: none; margin-top: 10px;">âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>
    </div>
</div>

<div class="container">
    <div id="quiz-ui" style="display: none;">
        <div class="quiz-card">
            <div class="quiz-header">
                <div style="font-weight: 800; color: var(--primary);">Omar Abdel Tawab</div>
                <div class="timer-box" id="timer">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: 20:00</div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar"><div id="progress-fill"></div></div>
                <div class="q-counter" id="q-counter">Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 20</div>
            </div>

            <div id="questions-container"></div>

            <div id="confirm-screen" style="display: none;">
                <h3 style="color: var(--primary); text-align: center;">Ø±Ø§Ø¬ÙØ¹ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</h3>
                <div id="confirm-list" style="max-height: 350px; overflow-y: auto; margin-bottom: 20px; border: 1px solid #eee; border-radius: 15px; padding: 10px; text-align: right;"></div>
                <button class="btn-nav" style="width: 100%;" onclick="submitFinal()">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø© âœ…</button>
                <button class="btn-nav" style="width: 100%; margin-top: 10px; background: #64748b;" onclick="backToQuiz()">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª âœï¸</button>
            </div>

            <div id="result-screen" style="display: none; text-align: center;">
                <h2 style="color: var(--primary)">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h2>
                <div id="score-display" style="font-size: 55px; font-weight: 900; background: var(--grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></div>
                <div id="final-analysis" style="text-align: right; margin-top: 20px;"></div>
                <button class="btn-nav" style="max-width: 200px; margin-top: 30px;" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
            </div>

            <div class="nav-buttons" id="nav-controls">
                <button class="btn-nav" id="prev-btn" onclick="prevQuestion()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn-nav" id="next-btn" onclick="nextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </div>

        <div class="dev-card">
            <div class="dev-brand-footer">Omar Abdel Tawab Saleh</div>
            <div class="social-row">
                <a href="https://wa.me/201202763155" target="_blank" class="circle-link wa-bg"><i class="fab fa-whatsapp"></i></a>
                <a href="https://www.facebook.com/share/1CGUeNkP75/" target="_blank" class="circle-link fb-bg"><i class="fab fa-facebook-f"></i></a>
            </div>
        </div>
    </div>
</div>

<footer>Â© 2025 Omar Abdel Tawab Saleh - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</footer>

<script>
    const BOT_TOKEN = '8237095382:AAEwtkETTGq3VEp1flZrIKVXQTWF5KGkCiM'; 
    const CHAT_ID = '6068331455';     

    const questions = [
        { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±ÙƒÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø²ÙˆØ§Ø¬ Ø¹Ù†Ø¯ Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„ÙÙ‚Ù‡Ø§Ø¡ØŸ", a: "Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ ÙˆØ§Ù„Ù‚Ø¨ÙˆÙ„", o: ["Ø§Ù„Ù…Ù‡Ø±", "Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ ÙˆØ§Ù„Ù‚Ø¨ÙˆÙ„", "Ø§Ù„Ø¥Ø´Ù‡Ø§Ø¯", "Ø§Ù„ÙˆÙ„ÙŠ"] },
        { q: "Ø­ÙƒÙ… Ø§Ù„Ø®Ø·Ø¨Ø© ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ù‡Ùˆ:", a: "Ø³Ù†Ø© ÙˆÙ…Ø±Ø­Ù„Ø© ØªÙ…Ù‡ÙŠØ¯ÙŠØ©", o: ["ÙˆØ§Ø¬Ø¨Ø©", "Ø³Ù†Ø© ÙˆÙ…Ø±Ø­Ù„Ø© ØªÙ…Ù‡ÙŠØ¯ÙŠØ©", "ÙØ±Ø¶ Ø¹ÙŠÙ†", "Ù…Ø­Ø±Ù…Ø©"] },
        { q: "Ø§Ù„Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø±Ø£Ø© ÙˆØ¹Ù…ØªÙ‡Ø§ ÙÙŠ ÙˆÙ‚Øª ÙˆØ§Ø­Ø¯ ÙŠØ¹ØªØ¨Ø± ØªØ­Ø±ÙŠÙ…Ø§Ù‹:", a: "Ù…Ø¤Ù‚ØªØ§Ù‹", o: ["Ù…Ø¤Ø¨Ø¯Ø§Ù‹", "Ù…Ø¤Ù‚ØªØ§Ù‹", "Ù…Ø¨Ø§Ø­Ø§Ù‹", "Ù…ÙƒØ±ÙˆÙ‡Ø§Ù‹"] },
        { q: "Ø¹Ø¯Ø© Ø§Ù„Ù…ØªÙˆÙÙ‰ Ø¹Ù†Ù‡Ø§ Ø²ÙˆØ¬Ù‡Ø§ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø­Ø§Ù…Ù„Ø§Ù‹ Ù‡ÙŠ:", a: "Ø£Ø±Ø¨Ø¹Ø© Ø£Ø´Ù‡Ø± ÙˆØ¹Ø´Ø±Ø© Ø£ÙŠØ§Ù…", o: ["Ø«Ù„Ø§Ø«Ø© Ù‚Ø±ÙˆØ¡", "Ø£Ø±Ø¨Ø¹Ø© Ø£Ø´Ù‡Ø± ÙˆØ¹Ø´Ø±Ø© Ø£ÙŠØ§Ù…", "Ø«Ù„Ø§Ø«Ø© Ø£Ø´Ù‡Ø±", "Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø©"] },
        { q: "Ø§Ù„Ù…Ù‡Ø± Ø§Ù„Ø°ÙŠ Ù„Ù… ÙŠÙØ³Ù…Ù‘ ÙÙŠ Ø§Ù„Ø¹Ù‚Ø¯ ÙŠØ³Ù…Ù‰ Ù…Ù‡Ø±:", a: "Ø§Ù„Ù…Ø«Ù„", o: ["Ø§Ù„Ù…Ø³Ù…Ù‰", "Ø§Ù„Ù…Ø«Ù„", "Ø§Ù„Ù…Ø¹Ø¬Ù„", "Ø§Ù„Ù…Ø¤Ø¬Ù„"] },
        { q: "Ù…Ù† Ø§Ù„Ù…Ø­Ø±Ù…Ø§Øª Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ù…ØµØ§Ù‡Ø±Ø©:", a: "Ø£Ù… Ø§Ù„Ø²ÙˆØ¬Ø©", o: ["Ø§Ù„Ø£Ø®Øª Ù…Ù† Ø§Ù„Ø±Ø¶Ø§Ø¹", "Ø£Ù… Ø§Ù„Ø²ÙˆØ¬Ø©", "Ø¨Ù†Øª Ø§Ù„Ø£Ø®", "Ø§Ù„Ø¹Ù…Ø©"] },
        { q: "Ø§Ù„ÙˆÙ„Ø§ÙŠØ© ÙÙŠ Ø²ÙˆØ§Ø¬ Ø§Ù„Ø«ÙŠØ¨ Ø§Ù„Ø¨Ø§Ù„ØºØ© Ø¹Ù†Ø¯ Ø§Ù„Ø­Ù†ÙÙŠØ©:", a: "Ù„Ù‡Ø§ ØªØ²ÙˆÙŠØ¬ Ù†ÙØ³Ù‡Ø§", o: ["Ù„ÙˆÙ„ÙŠÙ‡Ø§ ÙÙ‚Ø·", "Ù„Ù‡Ø§ ØªØ²ÙˆÙŠØ¬ Ù†ÙØ³Ù‡Ø§", "Ù„Ù„Ù‚Ø§Ø¶ÙŠ ÙÙ‚Ø·", "Ø¨Ø§Ø·Ù„Ø©"] },
        { q: "Ø£Ù‚Ù„ Ù…Ù‚Ø¯Ø§Ø± Ù„Ù„Ù…Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø°Ù‡Ø¨ Ø§Ù„Ø­Ù†ÙÙŠ Ù‡Ùˆ:", a: "Ø¹Ø´Ø±Ø© Ø¯Ø±Ø§Ù‡Ù…", o: ["Ø®Ù…Ø³Ø© Ø¯Ø±Ø§Ù‡Ù…", "Ø¹Ø´Ø±Ø© Ø¯Ø±Ø§Ù‡Ù…", "Ù„Ø§ Ø­Ø¯ Ù„Ù‡", "Ù…Ø§Ø¦Ø© Ø¯Ø±Ù‡Ù…"] },
        { q: "Ø§Ù„Ø·Ù„Ø§Ù‚ Ø§Ù„Ø±Ø¬Ø¹ÙŠ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ù„Ùƒ ÙÙŠÙ‡ Ø§Ù„Ø²ÙˆØ¬ Ø¥Ø¹Ø§Ø¯Ø© Ø²ÙˆØ¬ØªÙ‡:", a: "Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¹Ø¯Ø© Ø¯ÙˆÙ† Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯", o: ["Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ø¯Ø© Ø¨Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯", "Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¹Ø¯Ø© Ø¯ÙˆÙ† Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯", "Ø¨Ø´Ø±Ø· Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„ÙˆÙ„ÙŠ", "Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¥Ø¹Ø§Ø¯Ø©"] },
        { q: "ÙŠØ´ØªØ±Ø· ÙÙŠ ØµÙŠØºØ© Ø¹Ù‚Ø¯ Ø§Ù„Ø²ÙˆØ§Ø¬ Ø£Ù† ØªÙƒÙˆÙ†:", a: "Ù…Ù†Ø¬Ø²Ø©", o: ["Ù…Ø¹Ù„Ù‚Ø©", "Ù…Ù†Ø¬Ø²Ø©", "Ù…Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø³ØªÙ‚Ø¨Ù„", "Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ©"] },
        { q: "Ø§Ù„Ø®Ù„Ø¹ ÙŠÙ‚Ø¹ ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© ÙˆØ§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ù…ØµØ±ÙŠ Ø¨Ø·Ù„Ø§Ù‚:", a: "Ø¨Ø§Ø¦Ù†", o: ["Ø±Ø¬Ø¹ÙŠ", "Ø¨Ø§Ø¦Ù†", "ÙØ³Ø® ÙÙ‚Ø·", "ÙˆØ¹Ø¯ Ø¨Ø§Ù„Ø·Ù„Ø§Ù‚"] },
        { q: "ØªØ³ØªØ­Ù‚ Ø§Ù„Ù…Ø·Ù„Ù‚Ø© Ø§Ù„Ù…ØªØ¹Ø© Ø¥Ø°Ø§ ÙˆÙ‚Ø¹ Ø§Ù„Ø·Ù„Ø§Ù‚:", a: "Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆÙ„Ù… ÙŠØ³Ù…Ù‰ Ù…Ù‡Ø±", o: ["Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„", "Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆÙ„Ù… ÙŠØ³Ù…Ù‰ Ù…Ù‡Ø±", "Ø¨Ø¹Ø¯ Ø§Ù„ÙˆÙØ§Ø©", "ÙÙŠ Ø§Ù„Ø®Ù„Ø¹"] },
        { q: "Ø­ÙƒÙ… Ù†ÙƒØ§Ø­ Ø§Ù„Ù…ØªØ¹Ø© ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…:", a: "Ø¨Ø§Ø·Ù„ Ø¨Ø§ØªÙØ§Ù‚ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±", o: ["ØµØ­ÙŠØ­", "Ù…ÙƒØ±ÙˆÙ‡", "Ø¨Ø§Ø·Ù„ Ø¨Ø§ØªÙØ§Ù‚ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±", "Ù…Ø¨Ø§Ø­ Ù„Ù„Ø¶Ø±ÙˆØ±Ø©"] },
        { q: "Ø§Ù„Ù†ÙÙ‚Ø© Ø§Ù„Ø²ÙˆØ¬ÙŠØ© ØªØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø²ÙˆØ¬ Ø¨Ù…ÙˆØ¬Ø¨:", a: "Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„ØµØ­ÙŠØ­ ÙˆØ§Ù„ØªÙ…ÙƒÙŠÙ†", o: ["Ø§Ù„Ø®Ø·Ø¨Ø©", "Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„ØµØ­ÙŠØ­ ÙˆØ§Ù„ØªÙ…ÙƒÙŠÙ†", "ÙˆÙ„Ø§Ø¯Ø© Ø·ÙÙ„", "ÙŠØ³Ø§Ø± Ø§Ù„Ø²ÙˆØ¬"] },
        { q: "ÙŠØ´ØªØ±Ø· ÙÙŠ Ø§Ù„Ø´Ù‡ÙˆØ¯ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ù†ÙÙŠØ© Ù„ØµØ­Ø© Ø§Ù„Ø²ÙˆØ§Ø¬:", a: "Ø±Ø¬Ù„Ø§Ù† Ø£Ùˆ Ø±Ø¬Ù„ ÙˆØ§Ù…Ø±Ø£ØªØ§Ù†", o: ["Ø±Ø¬Ù„Ø§Ù† ÙÙ‚Ø·", "Ø£Ø±Ø¨Ø¹ Ù†Ø³Ø§Ø¡", "Ø±Ø¬Ù„Ø§Ù† Ø£Ùˆ Ø±Ø¬Ù„ ÙˆØ§Ù…Ø±Ø£ØªØ§Ù†", "Ø±Ø¬Ù„ ÙˆØ§Ø­Ø¯"] },
        { q: "ØªØ­Ø±Ù… Ø§Ù„Ø£Ø®Øª Ù…Ù† Ø§Ù„Ø±Ø¶Ø§Ø¹ ØªØ­Ø±ÙŠÙ…Ø§Ù‹:", a: "Ù…Ø¤Ø¨Ø¯Ø§Ù‹", o: ["Ù…Ø¤Ù‚ØªØ§Ù‹", "Ù…Ø¤Ø¨Ø¯Ø§Ù‹", "Ù…Ø¨Ø§Ø­Ø§Ù‹", "Ø¨Ø¥Ø°Ù† Ø§Ù„Ø²ÙˆØ¬Ø©"] },
        { q: "Ø¥Ø°Ø§ Ø·Ù„Ù‚ Ø§Ù„Ø²ÙˆØ¬ Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆÙ‚Ø¯ Ø³Ù…Ù‰ Ù…Ù‡Ø±Ø§Ù‹ØŒ ÙÙ„Ù„Ù…Ø±Ø£Ø©:", a: "Ù†ØµÙ Ø§Ù„Ù…Ù‡Ø± Ø§Ù„Ù…Ø³Ù…Ù‰", o: ["Ø§Ù„Ù…Ù‡Ø± ÙƒØ§Ù…Ù„", "Ù†ØµÙ Ø§Ù„Ù…Ù‡Ø± Ø§Ù„Ù…Ø³Ù…Ù‰", "Ù…Ù‡Ø± Ø§Ù„Ù…Ø«Ù„", "Ù„Ø§ Ø´ÙŠØ¡"] },
        { q: "Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ø¨ÙŠÙ† Ø§Ù„Ø²ÙˆØ¬ÙŠÙ†:", a: "Ø­Ø±Ù…Ø© Ø§Ù„Ù…ØµØ§Ù‡Ø±Ø© ÙˆÙ†Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯", o: ["Ø­Ù‚ Ø§Ù„Ø·Ø§Ø¹Ø©", "Ø­Ù‚ Ø§Ù„Ù…Ù‡Ø±", "Ø­Ø±Ù…Ø© Ø§Ù„Ù…ØµØ§Ù‡Ø±Ø© ÙˆÙ†Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯", "Ø­Ù‚ Ø§Ù„Ù‚ÙˆØ§Ù…Ø©"] },
        { q: "Ø§Ù„Ø²ÙˆØ§Ø¬ Ø§Ù„ÙØ§Ø³Ø¯ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ:", a: "Ø§Ø®ØªÙ„ ÙÙŠÙ‡ Ø´Ø±Ø· Ù…Ù† Ø´Ø±ÙˆØ· Ø§Ù„ØµØ­Ø©", o: ["Ø§Ø®ØªÙ„ ÙÙŠÙ‡ Ø±ÙƒÙ† Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨", "Ø§Ø®ØªÙ„ ÙÙŠÙ‡ Ø´Ø±Ø· Ù…Ù† Ø´Ø±ÙˆØ· Ø§Ù„ØµØ­Ø©", "ØªÙ… Ø¨Ø¯ÙˆÙ† Ù…Ù‡Ø±", "ØªÙ… ÙˆÙ‚Øª Ø§Ù„ØºØ¶Ø¨"] },
        { q: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø¯Ø© Ø§Ù„Ù…Ø·Ù„Ù‚Ø© Ø§Ù„Ù…Ø¯Ø®ÙˆÙ„ Ø¨Ù‡Ø§ Ù…Ù† Ø°ÙˆØ§Øª Ø§Ù„Ø­ÙŠØ¶ØŸ", a: "Ø«Ù„Ø§Ø«Ø© Ù‚Ø±ÙˆØ¡", o: ["Ø«Ù„Ø§Ø«Ø© Ø£Ø´Ù‡Ø±", "Ø«Ù„Ø§Ø«Ø© Ù‚Ø±ÙˆØ¡", "Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø©", "Ø£Ø±Ø¨Ø¹Ø© Ø£Ø´Ù‡Ø± ÙˆØ¹Ø´Ø±Ø© Ø£ÙŠØ§Ù…"] }
    ];

    let currentIdx = 0;
    let userAnswers = new Array(questions.length).fill(null);
    let timeLeft = 20 * 60; 
    let timerInterval;

    function getVisitNumber() {
        let count = localStorage.getItem('global_visit_count') || 5;
        count = parseInt(count) + 1;
        localStorage.setItem('global_visit_count', count);
        return count;
    }

    function startTimer() {
        timerInterval = setInterval(() => {
            timeLeft--;
            let mins = Math.floor(timeLeft / 60);
            let secs = timeLeft % 60;
            document.getElementById('timer').innerText = `Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${mins}:${secs < 10 ? '0'+secs : secs}`;
            if(timeLeft <= 0) { clearInterval(timerInterval); submitFinal(); }
        }, 1000);
    }

    function startQuiz() {
        const name = document.getElementById('name-input').value;
        const grade = document.getElementById('grade-input').value;
        if(!name || !grade) { document.getElementById('auth-err').style.display='block'; return; }

        const visitNum = getVisitNumber();
        const now = new Date().toLocaleString('ar-EG');
        const loginMsg = `âœ¨ Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ø¯Ø®Ù„ Ø§Ù„Ù…Ù†ØµØ© âœ¨\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\nğŸ›ï¸ Ø§Ù„ÙØ±Ù‚Ø©: ${grade}\nğŸ“Š Ø±Ù‚Ù… Ø§Ù„Ø²ÙŠØ§Ø±Ø©: ${visitNum}\nğŸ•’ Ø§Ù„ØªÙˆÙ‚ÙŠØª: ${now}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸš€ ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø¹Ù…Ø± Ø¹Ø¨Ø¯ Ø§Ù„ØªÙˆØ§Ø¨`;
        
        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(loginMsg)}`);

        document.getElementById('auth-screen').style.display = 'none';
        document.getElementById('quiz-ui').style.display = 'block';
        startTimer();
        showQuestion();
    }

    function showQuestion() {
        const container = document.getElementById('questions-container');
        const q = questions[currentIdx];
        container.style.display = 'block';
        document.getElementById('confirm-screen').style.display = 'none';
        document.getElementById('nav-controls').style.display = 'flex';

        container.innerHTML = `<div class="q-text">${currentIdx + 1}. ${q.q}</div>${q.o.map(opt => `<div class="option-btn ${userAnswers[currentIdx] === opt ? 'selected' : ''}" onclick="selectOption('${opt}')">${opt}</div>`).join('')}`;
        document.getElementById('prev-btn').disabled = currentIdx === 0;
        document.getElementById('next-btn').innerText = currentIdx === questions.length - 1 ? "Ù…Ø±Ø§Ø¬Ø¹Ø©" : "Ø§Ù„ØªØ§Ù„ÙŠ";
        document.getElementById('q-counter').innerText = `Ø³Ø¤Ø§Ù„ ${currentIdx + 1} Ù…Ù† ${questions.length}`;
        document.getElementById('progress-fill').style.width = `${((currentIdx + 1) / questions.length) * 100}%`;
    }

    function selectOption(opt) { userAnswers[currentIdx] = opt; showQuestion(); }
    function nextQuestion() { if (currentIdx < questions.length - 1) { currentIdx++; showQuestion(); } else { showConfirmation(); } }
    function prevQuestion() { if (currentIdx > 0) { currentIdx--; showQuestion(); } }

    function showConfirmation() {
        document.getElementById('questions-container').style.display = 'none';
        document.getElementById('nav-controls').style.display = 'none';
        document.getElementById('confirm-screen').style.display = 'block';
        const list = document.getElementById('confirm-list');
        list.innerHTML = userAnswers.map((ans, i) => `<div style="padding:10px; border-bottom:1px solid #eee; text-align:right;"><strong>${i+1}. ${questions[i].q}</strong><br><span style="color:var(--accent)">Ø§Ø®ØªÙŠØ§Ø±Ùƒ: ${ans || 'Ù„Ù… ÙŠØ­Ø¯Ø¯'}</span></div>`).join('');
    }

    function backToQuiz() {
        showQuestion();
    }

    function submitFinal() {
        clearInterval(timerInterval);
        let score = 0;
        userAnswers.forEach((ans, i) => { if(ans === questions[i].a) score++; });
        const name = document.getElementById('name-input').value;
        const resultMsg = `ğŸ¯ Ù†ØªÙŠØ¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø·Ø§Ù„Ø¨ ğŸ¯\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ‘¤ Ø§Ù„Ø·Ø§Ù„Ø¨: ${name}\nâœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score} Ù…Ù† ${questions.length}`;
        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(resultMsg)}`);
        document.getElementById('confirm-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('score-display').innerText = `${score} / ${questions.length}`;
    }

    function toggleFeedback() { const p = document.getElementById('feedback-panel'); p.style.display = p.style.display === 'block' ? 'none' : 'block'; }
    function sendFeedback() {
        const text = document.getElementById('feedback-text').value;
        const name = document.getElementById('name-input').value || "Ø²Ø§Ø¦Ø±";
        const msg = `ğŸŒŸ ØªÙ‚ÙŠÙŠÙ… Ø¬Ø¯ÙŠØ¯ ğŸŒŸ\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\nâ­ Ø§Ù„Ù†Ø¬ÙˆÙ…: ${selectedRating}\nğŸ“ Ø§Ù„Ø±Ø£ÙŠ: ${text}`;
        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(msg)}`);
        alert("Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚ÙŠÙŠÙ…Ùƒ."); toggleFeedback();
    }

    let selectedRating = 0;
    document.querySelectorAll('#star-rating i').forEach(star => {
        star.onclick = function() {
            selectedRating = this.getAttribute('data-v');
            document.querySelectorAll('#star-rating i').forEach(s => s.classList.toggle('active', s.getAttribute('data-v') <= selectedRating));
        }
    });
</script>
</body>
</html>
